<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GBox2DX: GB2WorldContactListener Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GBox2DX
   </div>
   <div id="projectbrief">A translation of Andreas Loew&#39;s GBox2D wrapper library for cocos2d-x and Box2D in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_g_b2_world_contact_listener.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">GB2WorldContactListener Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_g_b2_world_contact_listener_8h_source.html">GB2WorldContactListener.h</a>&gt;</code></p>

<p><a href="class_g_b2_world_contact_listener-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a323cc5bdf698beda6bf64abb4a12cf19"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a323cc5bdf698beda6bf64abb4a12cf19"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_b2_world_contact_listener.html#a323cc5bdf698beda6bf64abb4a12cf19">BeginContact</a> (b2Contact *contact)</td></tr>
<tr class="memdesc:a323cc5bdf698beda6bf64abb4a12cf19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when two fixtures begin to touch. <br/></td></tr>
<tr class="memitem:ad6fcd9570381f3326d9708b0d417e7b6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6fcd9570381f3326d9708b0d417e7b6"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_b2_world_contact_listener.html#ad6fcd9570381f3326d9708b0d417e7b6">EndContact</a> (b2Contact *contact)</td></tr>
<tr class="memdesc:ad6fcd9570381f3326d9708b0d417e7b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when two fixtures cease to touch. <br/></td></tr>
<tr class="memitem:a3203a5231667a6e97496869e7e6d9eb7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_b2_world_contact_listener.html#a3203a5231667a6e97496869e7e6d9eb7">PreSolve</a> (b2Contact *contact, const b2Manifold *oldManifold)</td></tr>
<tr class="memitem:a1619b24fde775f6d161c9cb3f2cd1860"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_b2_world_contact_listener.html#a1619b24fde775f6d161c9cb3f2cd1860">PostSolve</a> (b2Contact *contact, const b2ContactImpulse *impulse)</td></tr>
<tr class="memitem:a10a4a33667a1e1c15d30a88849f92d4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_g_b2_world_contact_listener.html#a10a4a33667a1e1c15d30a88849f92d4e">notifyObjects</a> (b2Contact *contact, std::string contactType)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_g_b2_world_contact_listener.html">GB2WorldContactListener</a></p>
<p>This class is an implementation of the b2ContactListener which handles collisions between objects</p>
<p>The implementation asumes that the user data in the b2Body objects is an GB2Object*</p>
<p>It automatically calls selectors for the collision detection. E.g. if you have 2 objects colliding, one with a class named Stone and one with a class named Floor it will call the following selectors aFloor::beginContactWithStone(GB2Node* otherObject, GB2Collision &lt;em&gt;c) aStone::beginContactWithFloor(<a class="el" href="class_g_b2_node.html">GB2Node</a> otherObject, <a class="el" href="class_g_b2_collision.html">GB2Collision</a> *c) for each point of the contact.</p>
<p>For each lost contact point aFloor::endContactWithStone(GB2Node* otherObject, GB2Collision &lt;em&gt;c) aStone::endContactWithFloor(<a class="el" href="class_g_b2_node.html">GB2Node</a> otherObject, <a class="el" href="class_g_b2_collision.html">GB2Collision</a> *c) will be called.</p>
<p>During the endContactWith* and beginContactWith* selector calls you must not destroy the object or change the object's physical shape!</p>
<p>The functions are called for each contact point. To detect if some objects have contact you need to count the number of begin and end calls or track the object's state change.</p>
<p>During the presolve phase it is possible to disable collisions e.g. if a player picksup an object you usually don't want him to bump into the object but just pass through it.</p>
<p>In this case aFloor::preContactWithStone(GB2Node* otherObject, GB2Collision &lt;em&gt;c) aStone::preContactWithFloor(<a class="el" href="class_g_b2_node.html">GB2Node</a> otherObject, <a class="el" href="class_g_b2_collision.html">GB2Collision</a> *c) are called</p>
<p>From within one of these selectors you can call [contact setEnabled:NO]; to disable the collition for this contact. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a10a4a33667a1e1c15d30a88849f92d4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GB2WorldContactListener::notifyObjects </td>
          <td>(</td>
          <td class="paramtype">b2Contact *&#160;</td>
          <td class="paramname"><em>contact</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>contactType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calls constructed selectors on the objects involved in the collision</p>
<p>If a is an object of type A, and b is object of type B this method will call</p>
<p>typed selector: a::&lt;contactType&gt;ContactWithB(GB2Node* otherObject, GB2Collision &lt;em&gt;c) b::&lt;contactType&gt;ContactWithA(<a class="el" href="class_g_b2_node.html">GB2Node</a> otherObject, <a class="el" href="class_g_b2_collision.html">GB2Collision</a> *c)</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">contact</td><td>the b2Contact </td></tr>
    <tr><td class="paramname">contactType</td><td>string containing "begin", "end", "pre" or "post" </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1619b24fde775f6d161c9cb3f2cd1860"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GB2WorldContactListener::PostSolve </td>
          <td>(</td>
          <td class="paramtype">b2Contact *&#160;</td>
          <td class="paramname"><em>contact</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const b2ContactImpulse *&#160;</td>
          <td class="paramname"><em>impulse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This lets you inspect a contact after the solver is finished. This is useful for inspecting impulses. Note: the contact manifold does not include time of impact impulses, which can be arbitrarily large if the sub-step is small. Hence the impulse is provided explicitly in a separate data structure. Note: this is only called for contacts that are touching, solid, and awake. </p>

</div>
</div>
<a class="anchor" id="a3203a5231667a6e97496869e7e6d9eb7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GB2WorldContactListener::PreSolve </td>
          <td>(</td>
          <td class="paramtype">b2Contact *&#160;</td>
          <td class="paramname"><em>contact</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const b2Manifold *&#160;</td>
          <td class="paramname"><em>oldManifold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is called after a contact is updated. This allows you to inspect a contact before it goes to the solver. If you are careful, you can modify the contact manifold (e.g. disable contact). A copy of the old manifold is provided so that you can detect changes. Note: this is called only for awake bodies. Note: this is called even when the number of contact points is zero. Note: this is not called for sensors. Note: if you set the number of contact points to zero, you will not get an EndContact callback. However, you may get a BeginContact callback the next step. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Classes/<a class="el" href="_g_b2_world_contact_listener_8h_source.html">GB2WorldContactListener.h</a></li>
<li>Classes/GB2WorldContactListener.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_g_b2_world_contact_listener.html">GB2WorldContactListener</a></li>
    <li class="footer">Generated on Mon Jul 2 2012 14:56:57 for GBox2DX by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.1 </li>
  </ul>
</div>
</body>
</html>
